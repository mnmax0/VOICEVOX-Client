#c| Cchange  話速:1.4
#c| set _y   話者:四国めたん タイプ:あまあま 話速:1.4 音高:0.0 抑揚:1.0 音量:1.0 開始無音:0.1 終了無音:0.1
#c| set _z   話者:ずんだもん タイプ:あまあま 話速:1.4 音高:0.0 抑揚:1.0 音量:1.0 開始無音:0.1 終了無音:0.1
こんにちはNM Maxです
前回の改造では、データ全部送信できずにいました。
全部送信できるように改造できたので動画にします。
#c| print 「ソケットプログラミング HOWTO」https://docs.python.org/ja/3/howto/sockets.html#socket-howto
socketで送信してるので、その場合、socket.sentで送る時に、どの程度の量送信出来たのかを確認して、全部一気に送信できないなら、残りを送るという処理が必要でした。「ソケットプログラミング HOWTO」にあるサンプルコードを利用してうまくいきました。
「ソケットプログラミング HOWTO」のURLは動画の概要欄に貼っておきます。
#c| newChapter
socket送信用の関数を追加しました。それがここになります。
#c| newChapter
送信データを一気に用意して、送付しようとするとメモリーオーバーのエラーになったので、データ部分は１行毎に送信するように改造しました。
その変更部分がここになります。
データ部分の上だけ、webpage関数で作成してから。データファイルを１行毎に送信して、最後にHTMLのbodyとhtmlの終了文字列を送付してます。
#c| newChapter
受信側も同じようにした方が良いようですが、今回はそこはやってません。
socketではなくて、もっと高機能なライブラリを使ってやった方が良いかもしれません。
他にも修正したいところあるのですが、そこはやってません。そこも改造したら動画にするかも、しないかも。
それでは、またね！
